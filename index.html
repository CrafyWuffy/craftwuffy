<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Minecraft Sunucusu | Profesyonel Hub</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/css/tabler.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.0/sweetalert2.min.css">
    
    <style>
        :root { --p: #0054a6; --bg: #f4f7f9; --dark-card: #1a1d21; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg); color: #333; }
        .hero { background: linear-gradient(135deg, #001f3f 0%, #0054a6 100%); color: white; padding: 80px 0; position: relative; }
        .hero::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 40px; background: var(--bg); clip-path: polygon(0 100%, 100% 100%, 100% 0); }
        .ip-badge { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 12px 25px; border-radius: 50px; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; }
        .navbar { background: rgba(255,255,255,0.9) !important; backdrop-filter: blur(10px); box-shadow: 0 4px 30px rgba(0,0,0,0.05); }
        .nav-link { font-weight: 700; color: #444 !important; cursor: pointer; }
        .nav-link.active { color: var(--p) !important; border-bottom: 3px solid var(--p); }
        .content-card { border: none; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.04); margin-bottom: 30px; }
        .post-box { background: #fff; border-radius: 15px; padding: 20px; margin-bottom: 15px; border-left: 5px solid var(--p); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .sidebar-card { background: var(--dark-card); color: white; border-radius: 20px; padding: 25px; }
        .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .dot-online { background: #2fb344; box-shadow: 0 0 10px #2fb344; }
        .dot-offline { background: #d63939; }
    </style>
</head>
<body>

<div class="hero text-center">
    <div class="container animate__animated animate__fadeIn">
        <span class="badge bg-warning text-dark mb-3 fw-bold p-2 px-3 shadow">ðŸš€ BU AKÅžAM 20:00'DA AÃ‡ILIYOR!</span>
        <h1 class="display-4 fw-extrabold mb-2">SUNUCU ADI</h1>
        <div class="ip-badge" id="copyIp" data-clipboard-text="94.154.46.130">
            <i class="fa fa-copy me-2"></i> <span class="h4 mb-0 fw-bold">94.154.46.130</span>
            <span class="ms-3 badge bg-success" id="heroCount">0/0</span>
        </div>
    </div>
</div>

<nav class="navbar navbar-expand-lg sticky-top py-2">
    <div class="container justify-content-center">
        <div class="navbar-nav gap-3">
            <a class="nav-link active" onclick="nav('anasayfa')"><i class="fa fa-home-alt me-1"></i> Anasayfa</a>
            <a class="nav-link" onclick="nav('forum')"><i class="fa fa-comments me-1"></i> Forum</a>
            <a class="nav-link" onclick="nav('magaza')"><i class="fa fa-shopping-bag me-1"></i> MaÄŸaza</a>
        </div>
    </div>
</nav>

<div class="container my-5">
    <div class="row">
        <div class="col-lg-8">
            <div id="anasayfa_sec" class="section_div">
                <div class="card content-card p-5">
                    <h2 class="fw-bold mb-4">ðŸ“° Son Haberler</h2>
                    <img src="https://images.unsplash.com/photo-1627375103210-999330965e64?q=80&w=1000" class="img-fluid rounded-4 mb-3">
                    <h3 class="fw-bold">HazÄ±r mÄ±sÄ±n?</h3>
                    <p class="text-muted">Bu akÅŸam aÃ§Ä±lÄ±ÅŸta bÃ¼yÃ¼k Ã¶dÃ¼ller daÄŸÄ±tÄ±lacaktÄ±r!</p>
                </div>
            </div>

            <div id="forum_sec" class="section_div" style="display:none;">
                <div class="card content-card p-4">
                    <h2 class="fw-bold mb-4">ðŸ’¬ Oyuncu MesajlarÄ±</h2>
                    <div class="bg-light p-4 rounded-4 mb-4">
                        <div class="row g-2">
                            <div class="col-md-4"><input type="text" id="f_user" class="form-control" placeholder="Oyuncu AdÄ±n"></div>
                            <div class="col-md-8"><input type="text" id="f_msg" class="form-control" placeholder="MesajÄ±n..."></div>
                            <button onclick="submitPost()" class="btn btn-primary w-100 fw-bold mt-2">Mesaj GÃ¶nder</button>
                        </div>
                    </div>
                    <div id="forum_load" class="text-center p-5 d-none"><div class="spinner-border text-primary"></div></div>
                    <div id="forum_posts_list"></div>
                </div>
            </div>
            
            <div id="magaza_sec" class="section_div" style="display:none;">
                <div class="row g-4 text-center">
                    <div class="col-md-6"><div class="card content-card p-4"><h3>VIP</h3><p>50 TL</p><button class="btn btn-primary w-100">SatÄ±n Al</button></div></div>
                    <div class="col-md-6"><div class="card content-card p-4"><h3>REPAIR</h3><p>30 TL</p><button class="btn btn-primary w-100">SatÄ±n Al</button></div></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="sidebar-card shadow-lg sticky-top" style="top: 100px;">
                <h4 class="fw-bold mb-4 border-bottom pb-2">ðŸ“Š Durum</h4>
                <div class="mb-3"><div id="admin-dot" class="dot dot-offline"></div> <span id="admin-status">KURUCU Ã‡EVRÄ°MDÄ°ÅžÄ°</span></div>
                <div class="mb-4 text-success fw-bold"><i class="fa fa-users me-2"></i> Aktif: <span id="side-count">0/0</span></div>
                <a href="https://discord.gg/XAhyeXNjKr" class="btn btn-primary w-100 py-3 fw-bold rounded-pill">DÄ°SCORD</a>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.0/sweetalert2.all.min.js"></script>

<script>
    new ClipboardJS('#copyIp').on('success', () => Swal.fire('IP KopyalandÄ±!', '', 'success'));

    function nav(target) {
        $('.section_div').hide();
        $(`#${target}_sec`).fadeIn();
        $('.nav-link').removeClass('active');
        $(`a[onclick="nav('${target}')"]`).addClass('active');
        if(target === 'forum') getPosts();
    }

    function getPosts() {
        $('#forum_load').removeClass('d-none');
        $.get('/api/forum', function(data) {
            let h = '';
            data.forEach(p => {
                h += `<div class="post-box animate__animated animate__fadeInUp">
                    <div class="d-flex justify-content-between align-items-center mb-1">
                        <span class="fw-bold text-primary"><i class="fa fa-user-circle me-1"></i> ${p.username}</span>
                        <small class="text-muted">${new Date(p.created_at).toLocaleTimeString('tr-TR')}</small>
                    </div>
                    <div class="fs-5">${p.content}</div>
                </div>`;
            });
            $('#forum_posts_list').html(h);
            $('#forum_load').addClass('d-none');
        });
    }

    function submitPost() {
        const u = $('#f_user').val(), m = $('#f_msg').val();
        if(!u || !m) return Swal.fire('Hata', 'TÃ¼m alanlarÄ± doldur!', 'error');
        
        $.ajax({
            url: '/api/forum', type: 'POST', contentType: 'application/json',
            data: JSON.stringify({ username: u, content: m }),
            success: function() {
                $('#f_msg').val('');
                getPosts();
                Swal.fire('BaÅŸarÄ±lÄ±!', 'MesajÄ±n gÃ¶nderildi.', 'success');
            }
        });
    }

    function sync() {
        $.getJSON('https://api.mcstatus.io/v2/status/java/94.154.46.130', d => {
            if(d.online) {
                let txt = d.players.online + " / " + d.players.max;
                $('#side-count').text(txt); $('#heroCount').text(txt);
            }
        });
        $.getJSON('https://api.lanyard.rest/v1/users/812040098388377671', r => {
            let s = r.data.discord_status !== 'offline';
            $('#admin-dot').attr('class', 'dot ' + (s ? 'dot-online' : 'dot-offline'));
            $('#admin-status').text(s ? 'KURUCU AKTÄ°F' : 'KURUCU Ã‡EVRÄ°MDÄ°ÅžÄ°');
        });
    }
    sync(); setInterval(sync, 20000);
</script>
</body>
</html>
